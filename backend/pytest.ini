[pytest]
# 中文: 将 asyncio 测试模式设置为 auto (自动检测异步测试函数)
# English: Set asyncio test mode to auto (automatically detect async test functions)
asyncio_mode = auto

# Code Coverage Configuration
cov = app
cov_report =
    html
    xml
    term-missing
cov_omit =
    */tests/*
    */test_*.py
    app/main.py
    app/core/config.py
    app/db/session.py
    # Add other files to omit if necessary, for example:
    # app/db/init_db.py
    # app/initial_data.py
cov_fail_under = 70 # Optional: Fail if coverage is below 70%
